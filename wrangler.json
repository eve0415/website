{
  "$schema": "node_modules/wrangler/config-schema.json",
  "name": "website",
  "compatibility_date": "2026-01-20",
  "compatibility_flags": ["nodejs_compat"],
  "workers_dev": false,
  "preview_urls": true,
  "upload_source_maps": true,
  "placement": { "mode": "smart" },

  "routes": [
    {
      "pattern": "eve0415.net",
      "custom_domain": true
    }
  ],

  "main": "./src/server.ts",
  "assets": { "directory": "./dist/client" },

  "observability": {
    "enabled": true,
    "traces": { "enabled": true }
  },

  "triggers": {
    "crons": ["0 * * * *", "30 18 * * 6"]
  },

  "kv_namespaces": [
    {
      "binding": "CACHE",
      "id": "7c81378ba627479abce566995492eda0"
    },
    {
      "binding": "CONTACT_RATE_LIMIT",
      "id": "fa789c815279403293672ad135db0a3f"
    }
  ],

  "send_email": [
    {
      "name": "CONTACT_EMAIL"
    }
  ],

  "ai": {
    "binding": "AI"
  },

  "d1_databases": [
    {
      "binding": "SKILLS_DB",
      "database_name": "skills-history",
      "database_id": "245ac084-56b9-40b1-9494-2d1c9481f056",
      "migrations_dir": "./migrations"
    }
  ],

  "workflows": [
    {
      "name": "skills-analysis",
      "binding": "SKILLS_WORKFLOW",
      "class_name": "SkillsAnalysisWorkflow"
    }
  ]
}
